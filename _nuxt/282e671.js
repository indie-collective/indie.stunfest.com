(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{648:function(t,e,r){"use strict";r.r(e);var n=r(10),o=r(133),c=(r(54),r(19),r(53),r(312),r(30),r(14),r(43),r(52),r(35),r(313),r(139),r(328)),f=[2013,2014,2015,2016,2018,2019,2020,2022,2023],m=["Stunfest Indie Award","Promise Award","People's Choice Award","GameJam Award","Young Public Award"];function l(t){var e,r,i;for(i=t.length-1;i>0;i--)e=Math.floor(Math.random()*(i+1)),r=t[i],t[i]=t[e],t[e]=r;return t}e.default={name:"HomePage",components:{Card:c.a},data:function(){return{currentTab:""}},props:{tabs:{type:Array,default:function(){return[]}},currentYear:{type:String,default:function(){return location.href.replace(/.*?\/(\d{4})(\/.*?)?$/gim,"$1")}},years:{type:Array,default:function(){return f}}},computed:{sortedAwards:function(){var t=[];return this.items.map((function(i){return t.push.apply(t,Object(o.a)((e=i)&&e.games?e.games.filter((function(t){return t.award})).sort((function(a,b){return m.indexOf(a.award)-m.indexOf(b.award)})):[]));var e})),t},currentYearTabs:function(){return["all"].concat(Object(o.a)(this.items.filter((function(i){return i.games.length})).map((function(i){return i.name}))))},filteredYears:function(){var t=this;return this.years.filter((function(i){return i!==+t.currentYear})).sort((function(a,b){return b>a}))},filteredSections:function(){var t=this;return this.currentYearTabs.filter((function(e){return("all"===t.filter||t.filter===e)&&t.items.find((function(i){return i.name===e}))&&t.items.find((function(i){return i.name===e})).games.length})).map((function(e){return{displayName:t.items.find((function(i){return i.name===e})).displayName||"üè†",games:l(t.items.find((function(i){return i.name===e})).games).sort((function(a,b){return t.isGameVisible(b)-t.isGameVisible(a)}))}}))},logoPath:function(){var img="";try{img=r(326)("./"+this.currentYear+".png")}catch(t){img=r(311)}return img}},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,filter,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$axios,n=t.params,t.error,filter=n.pathMatch||"all",e.next=4,r.$get("".concat(location.href.replace(/\d{4}\/?$/,"")+n.year,".json"));case 4:return o=e.sent,e.abrupt("return",{filter:filter,items:o});case 6:case"end":return e.stop()}}),e)})))()},mounted:function(){return{currentYear:this.$route.params.year}},methods:{getDisplayName:function(t){return"all"===t?"üè†":this.items.find((function(i){return i.name===t}))?this.items.find((function(i){return i.name===t})).displayName:void 0},isGameVisible:function(t){return!t.visibleDate||Date.parse(t.visibleDate)<Date.now()},onSelectChange:function(){console.info("this.currentTab:",this.currentTab),(this.currentTab+"").match(/\d{4}/g)?this.$router.push({path:"/".concat(this.currentTab)}):this.filter=this.currentTab}}}}}]);